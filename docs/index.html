<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width-device-width, initial-scale=1.0">
    <meta name="description" content="Generate your package.json configuration from your browser.">
    <meta name="theme-color" content="#ffffff">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="preload" href="https://fonts.googleapis.com/css2?family=Poppins:wght@200;400&display=swap" as="style">
    <link rel="icon" href="./icon.png">
    <link rel="apple-touch-icon" href="./icon.png">
    <link rel="manifest" href="./manifest.json">
    <title>Package JSON Generator</title>
    <style>
      *, *::before, *::after {
        margin: 0;
        padding: 0;
      }

      html, body {
        min-height: 100vh;
        width: 100vw;
        overflow-x: hidden;
      }
    </style>
  </head>
  <body>
    <div id="elm"></div>
    <script src="elm.js"></script>
    <script>
      "use strict";

      const link = window.document.createElement("link");

      link.setAttribute("rel", "stylesheet");
      link.setAttribute("href", "https://fonts.googleapis.com/css2?family=Poppins:wght@200;400&display=swap");

      window.document.head.appendChild(link);

      const elm = Elm.Main.init({
        node: document.getElementById("elm"),
        flags: window.innerWidth
      });

      elm.ports.vibrate.subscribe(() => {
        window.navigator.vibrate(100);
      });

      elm.ports.copyToClipboard.subscribe((model) => {
        window.navigator.clipboard.writeText(model).then(() => {
          elm.ports.copyToClipboardNotification.send("Successfully copied to clipboard");
        }).catch(() => {
          elm.ports.copyToClipboardNotification.send("Failed to copy to the clipboard");
        });
      });
    </script>
  </body>
</html>
